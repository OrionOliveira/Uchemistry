##:kivy!

#:import ZBarCam kivy_garden.zbarcam.ZBarCam
#:import ZBarSymbol pyzbar.pyzbar.ZBarSymbol

<ScannerScreen>:
    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        MDTopAppBar:
            md_bg_color: 0.5, 0, 0.5, 1
            pos_hint: {'top': 1}
            title: 'UChemistry - Scanner'
            right_action_items:
                [["home", lambda x: app.go_home()]]
        ZBarCam:
            id: zbarcam
            on_symbols: if self.symbols: root.read_qr(self.symbols[0].data)
            pos_hint: {'center_x': .5, 'center_y': .5}
        MDRaisedButton:
            text: 'Clear'
            pos_hint: {'center_x': 0.8, 'center_y': 0.276}
            size_hint_x: .3
            on_release: root.clear()
        MDCard:
            size_hint: (.9, .2)
            pos_hint: {'center_x': .5, 'center_y': .13}
            elevation: 2
            MDFloatLayout:
                MDLabel:
                    id: qr_name
                    text: ''
                    pos_hint: {'center_x': .5, 'center_y': .7}
                MDLabel:
                    id: qr_contents
                    text: ''
                    pos_hint: {'center_x': .5, 'center_y': .5}
                MDLabel:
                    id: qr_amount
                    text: ''
                    pos_hint: {'center_x': .5, 'center_y': .3}
